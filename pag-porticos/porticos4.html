<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tecsidel</title>
    <link rel="icon" href="../pag-login/assets/logotipo.png" type="image/png">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../pag-login/style.css">
    <link rel="stylesheet" href="./porticos.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
</head>

<body>

    <header>
        <div class="infoheader">
            <div class="logo">
                <img src="../pag-login/assets/Logo.png" alt="Logo da Tecsidel">
            </div>
        </div>
    </header>

    <h1>Monitoramento Pórtico</h1>

    <section class="content">
        <div class="menu">
            <div class="sidebar">
                <div class="naveg">
                    <h3>Menu</h3>
                    <a href="../pag-inicial/inicial.html"><i class="fa-solid fa-house"></i>Inicial</a>
                    <a href="../pag-alertas/alertas.html"><i class="fas fa-triangle-exclamation"></i>Alertas</a>
                    <a href="../pag-chamado/chamado.html"><i class="fas fa-table-list"></i>Chamados</a>
                    <a href="../pag-porticos/porticos.html"><i class="fas fa-object-group"></i>Pórticos</a>
                </div>
                <div class="return">
                    <a href="../pag-porticos/porticos.html"><i class="fa-solid fa-reply"></i></a>
                </div>
            </div>
        </div>

        <div id="table-container"></div>
        <div id="map" class="circular-map"></div>

        <script src="porticos.js"></script>

        <script>
            document.addEventListener('DOMContentLoaded', function () {
                // Inicializa o mapa
                var map = L.map('map').setView([-23.57, -46.66], 14); // Centraliza os pórticos e aumenta o zoom

                // Adiciona o mapa base
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);

                // Adiciona marcadores de exemplo
                var porticos = [
                    { nome: 'Pórtico 1', lat: -23.5605, lng: -46.6433 },
                    { nome: 'Pórtico 2', lat: -23.5705, lng: -46.6533 },
                    { nome: 'Pórtico 3', lat: -23.5705, lng: -46.6633 },
                    { nome: 'Pórtico 4', lat: -23.5805, lng: -46.6733 }
                ];

                porticos.forEach(function(portico) {
                    var marker;
                    if (portico.nome === 'Pórtico 3') {
                        // Ícone personalizado para o Pórtico 3 (vermelho)
                        marker = L.marker([portico.lat, portico.lng], {
                            icon: L.icon({
                                iconUrl: 'https://cdn.rawgit.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png',
                                iconSize: [25, 41],
                                iconAnchor: [12, 41],
                                popupAnchor: [1, -34],
                                tooltipAnchor: [16, -28]
                            })
                        });
                    } else {
                        // Ícone padrão para os outros pórticos
                        marker = L.marker([portico.lat, portico.lng]);
                    }
                    marker.addTo(map).bindPopup(portico.nome);
                });
            });
        </script>

        <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    </section>
</body>

</html>
